@page "/post/{PostId:int}"
@inject NavigationManager Navigation

<h2 class="text-center my-4">Post Details</h2>

@if (post == null)
{
    <div class="text-center">
        <p>Post not found.</p>
    </div>
}
else
{
    <div class="container d-flex justify-content-center">
        <div class="card mb-4 shadow-sm" style="width: 80%;">
            <div class="card-header">
                <h3 class="card-title">@post.Title</h3>
                <p class="text-muted mb-0">@post.Date.ToString("MMMM dd, yyyy")</p>
            </div>
            <div class="card-body">
                <p class="card-text">@post.Content</p>
            </div>
            <div class="card-footer text-end">
                <button class="btn btn-secondary me-2" @onclick="GoBack">Back</button>
            </div>
        </div>
    </div>
}

@code {
    [Parameter] public int PostId { get; set; }

    private BlogPost? post;

    private List<BlogPost> blogPosts = new List<BlogPost>
    {
        new BlogPost { Id = 1, Title = "Sample Post 1", Date = DateTime.Now, Content = "Full content for blog post 1." },
        new BlogPost { Id = 2, Title = "Sample Post 2", Date = DateTime.Now, Content = "Full content for blog post 2." },
        new BlogPost { Id = 3, Title = "Sample Post 3", Date = DateTime.Now, Content = "Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3.Full content for blog post 3." },

    };

    protected override void OnInitialized()
    {
        post = blogPosts.FirstOrDefault(p => p.Id == PostId);
    }

    private void GoBack(){
        Navigation.NavigateTo("/");
    }

    public class BlogPost
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public DateTime Date { get; set; }
        public string Content { get; set; }
    }
}